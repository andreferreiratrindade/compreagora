// jQuery Mask Plugin v1.5.7
// github.com/igorescobar/jQuery-Mask-Plugin
(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.Zepto)})(function(e){var y=function(b,g,h){var k=this,x;b=e(b);g="function"===typeof g?g(b.val(),void 0,b,h):g;k.init=function(){h=h||{};k.byPassKeys=[9,16,17,18,36,37,38,39,40,91];k.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};k.translation=e.extend({},k.translation,h.translation);k=e.extend(!0,{},k,h);b.each(function(){!1!==
h.maxlength&&b.attr("maxlength",g.length);b.attr("autocomplete","off");c.destroyEvents();c.events();var a=c.getCaret(),d=c.getMaskCharactersBeforeCount(a,!0);c.val(c.getMasked());c.setCaret(a+d)})};var c={getCaret:function(){var a;a=0;var d=b.get(0),c=document.selection,f=d.selectionStart;if(c&&!~navigator.appVersion.indexOf("MSIE 10"))d.focus(),a=c.createRange(),a.moveStart("character",b.is("input")?-b.val().length:-b.text().length),a=a.text.length;else if(f||"0"===f)a=f;return a},setCaret:function(a){var d;
d=b.get(0);d.setSelectionRange?(d.focus(),d.setSelectionRange(a,a)):d.createTextRange&&(d=d.createTextRange(),d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select())},events:function(){b.on("keydown.mask",function(){x=c.val()});b.on("keyup.mask",c.behaviour);b.on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)});b.on("change.mask",function(){b.data("changeCalled",!0)});b.on("blur.mask",function(a){a=e(a.target);a.prop("defaultValue")!=a.val()&&
(a.prop("defaultValue",a.val()),a.data("changeCalled")||a.trigger("change"));a.data("changeCalled",!1)})},destroyEvents:function(){b.off("keydown.mask keyup.mask paste.mask drop.mask change.mask blur.mask").removeData("changeCalled")},val:function(a){var d=b.is("input");return 0<arguments.length?d?b.val(a):b.text(a):d?b.val():b.text()},getMaskCharactersBeforeCount:function(a,d){for(var b,c=0,e=0,h=g.length;e<h&&e<a;e++)b=k.translation[g.charAt(e)],b||(c++,a=d?a+1:a);return c},determineCaretPos:function(a,
d,b,f){return k.translation[g.charAt(Math.min(a-1,g.length-1))]?Math.min(a+b-d-f,b):c.determineCaretPos(a+1,d,b,f)},behaviour:function(a){a=a||window.event;var b=a.keyCode||a.which;if(-1===e.inArray(b,k.byPassKeys)){var g=c.getCaret(),f=c.val(),h=f.length,l=g<h,n=c.getMasked(),m=n.length,p=c.getMaskCharactersBeforeCount(m-1)-c.getMaskCharactersBeforeCount(h-1);n!==f&&c.val(n);!l||65===b&&a.ctrlKey||(8!==b&&46!==b&&(g=c.determineCaretPos(g,h,m,p)),c.setCaret(g));return c.callbacks(a)}},getMasked:function(a){var b=
[],e=c.val(),f=0,r=g.length,l=0,n=e.length,m=1,p="push",s=-1,q,u;h.reverse?(p="unshift",m=-1,q=0,f=r-1,l=n-1,u=function(){return-1<f&&-1<l}):(q=r-1,u=function(){return f<r&&l<n});for(;u();){var v=g.charAt(f),w=e.charAt(l),t=k.translation[v];if(t)w.match(t.pattern)?(b[p](w),t.recursive&&(-1===s?s=f:f===q&&(f=s-m),q===s&&(f-=m)),f+=m):t.optional&&(f+=m,l-=m),l+=m;else{if(!a)b[p](v);w===v&&(l+=m);f+=m}}a=g.charAt(q);r!==n+1||k.translation[a]||b.push(a);return b.join("")},callbacks:function(a){var d=
c.val(),e=c.val()!==x;if(!0===e&&"function"===typeof h.onChange)h.onChange(d,a,b,h);if(!0===e&&"function"===typeof h.onKeyPress)h.onKeyPress(d,a,b,h);if("function"===typeof h.onComplete&&d.length===g.length)h.onComplete(d,a,b,h)}};k.remove=function(){var a=c.getCaret(),b=c.getMaskCharactersBeforeCount(a);c.destroyEvents();c.val(k.getCleanVal()).removeAttr("maxlength");c.setCaret(a-b)};k.getCleanVal=function(){return c.getMasked(!0)};k.init()};e.fn.mask=function(b,g){this.unmask();return this.each(function(){e(this).data("mask",
new y(this,b,g))})};e.fn.unmask=function(){return this.each(function(){try{e(this).data("mask").remove()}catch(b){}})};e.fn.cleanVal=function(){return e(this).data("mask").getCleanVal()};e("*[data-mask]").each(function(){var b=e(this),g={};"true"===b.attr("data-mask-reverse")&&(g.reverse=!0);"false"===b.attr("data-mask-maxlength")&&(g.maxlength=!1);b.mask(b.attr("data-mask"),g)})});
